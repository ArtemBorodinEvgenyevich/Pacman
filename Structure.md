# Structure

Маленьких точек 240
Больших 4

Съел маленькую точку +10
Съел большую точку +50

Суммарно 2600

При съедании большой точки призраки перестают атаковать, 
меняют направление. В этом состоянии съедобны. От приведения 
остаются глаза, они перемещаются на респавн и призрак снова
вступает в игру. 

За съедение первого призрака +200 очков, второго - +400, ..., 
i-го - +200i. 

После 19 уровня призраков нельзя есть, большие точки не 
оказывают никакого эффекта. 

Два раза за раунд появляются фрукты. Первый появляется после
съедения 70 точек, второй - 170 точек. Дается от 100 до 5000
очков, зависит от уровня. Бонус находится на экране в течении
9 секунд. Съеденные фрукты на текущем и последних 6 уровнях
отображаются внизу экрана. 

До 21-го уровня V[pac] > V[mon]. После 21-го - V[pac] < v[mon]
Поедание точек замедляет пакмана на 10%. Съел большую точку -
скорость возрасла, приведения замедлились. С 5 по 20 уровень 
пакман двигается с максимальной скоростью. Большие точки не
оказывают влияния на скорость. Если призрак прошел через 
боковой тунель скорость уменьшается вдвое.

## Призраки

Модели поведения:
- преследование
- рассеивание
- испуг

В первых двух режимах экран делится на квадраты. В рассеивании
и преследовании у призраков есть квадрат, который они пытаются
достичь.  При рассеивании квадраты за пределами экрана,  ближе
к углам. В режиме испуга выбирают путь рандомно. 

### Красный

Красный призрак Шэдоу (Shadow) по прозвищу Блинки 
(Blinky). В режиме преследования использует как 
цель ту клетку, в которой находится Пакман. Блинки увеличивает 
свою скорость преследования относительно первоначальной 
дважды за уровень в зависимости от количества съеденных 
точек. Если точек осталось мало, то он меняет целевую 
клетку в режиме рассеивания на квадрат, в котором находится Пакман, 
и так гоняется за героем в двух режимах.

### Розовый

Розовый призрак Спиди (Speedy) по прозвищу Пинки (Pinky). 
В качестве цели при преследовании использует точку, находящуюся 
на четыре клетки впереди Пакмана. Однако из-за ошибки переполнения 
при движении Пакмана вверх Пинки использует в качестве цели квадрат, 
находящийся на четыре клетки вверх и на четыре влево от Пакмана.

### Голубой

Голубой призрак Башфул (Bashful) по прозвищу Инки (Inky).  
Использует самый сложный алгоритм преследования: для определения 
направления движения строится отрезок, один из концов которого определяется 
положением Блинки, а середина находится на 2 клетки перед Пакманом. Второй 
конец отрезка — искомая целевая точка. Получившуюся точку сложно 
предсказать, поэтому Инки считается самым опасным привидением. 
Из-за ошибки переполнения, аналогичной в поведении Пинки, во время движения 
Пакмана вверх целевая клетка Инки это две клетки вверх и две влево от Пакмана.

### Оранжевый

Оранжевый призрак Поки (Pockey) по прозвищу Клайд (Clyde). Если Клайд 
находится дальше 8 клеток от Пакмана, то он использует в качестве 
цели самого Пакмана, как Блинки. Если же Пакман ближе 8 клеток, то Клайд 
стремится к левому нижнему углу, как при рассеивании.

Сменить направление могут только во время поворота в лабиринте. При смене
режима могут разворачиваться. Кроме перехода Испуг-другой.

Начальный режим - рассеивание. затем переходят в преследование. В течение
раунда могут менять режим на рассеивание еще три раза. При потере жизни 
пакмана счетчик сбрасывается. Длительность такого режима от 1/60 секунды
до 7 секунд. Время преследование от 30 до 1037 секунд. Когда все режимы 
исчерпаны они преследуют пакмана. На время испуга счетчики останавливаются.

Блинки всегда старутет вне комнаты приведений. Порядок выхода: Пинки, Инки, 
Клайд. В первых трех уровнях они выходят после съедения определенного 
количества точек. Первый уровень: Пинки 30, Инки 60. После потери жизни
счетчик сбрасывается. Новый уже с меньшим количеством точек. После 4-го 
уровня все призраки сразу покидают комнату. Если на первых уровнях
пакман не ест точки в течение 4 секунд, то призраки раньше выйдут.

